# üìä –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ PAZL Collab Bot

## üéØ –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

**PAZL Collab Bot** ‚Äî Telegram-–±–æ—Ç –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –¥–ª—è –∫–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏–π (—ç—Ñ–∏—Ä—ã, –ø–æ–¥–∫–∞—Å—Ç—ã, –ø—Ä–æ–µ–∫—Ç—ã). –ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:
- **Backend (Python)**: Telegram –±–æ—Ç –Ω–∞ aiogram 3.4.1 + FastAPI —Å–µ—Ä–≤–µ—Ä
- **Frontend (React)**: Telegram Mini App —Å –≥–∞–ª–µ—Ä–µ–µ–π —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: Airtable (—Ç–∞–±–ª–∏—Ü–∞ Experts)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:
```
pazl-collab-bot/
‚îú‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ Telegram –±–æ—Ç–∞
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ main.py            # FastAPI —Å–µ—Ä–≤–µ—Ä (REST API + —Å—Ç–∞—Ç–∏–∫–∞)
‚îÇ   ‚îî‚îÄ‚îÄ airtable_service.py # –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Airtable
‚îú‚îÄ‚îÄ handlers/              # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ start.py           # /start, –≤—ã–±–æ—Ä —è–∑—ã–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ form.py            # –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã (FSM)
‚îÇ   ‚îú‚îÄ‚îÄ menu_handlers.py   # –ú–µ–Ω—é –ø–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ partnership.py     # –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞
‚îú‚îÄ‚îÄ services/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ airtable_api.py    # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å Airtable
‚îÇ   ‚îú‚îÄ‚îÄ status_notifier.py # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–æ–≤ (–∫–∞–∂–¥—ã–µ 30 –º–∏–Ω)
‚îÇ   ‚îî‚îÄ‚îÄ utils.py           # –£—Ç–∏–ª–∏—Ç—ã (—Ñ–æ—Ç–æ, –≤–∞–ª–∏–¥–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ keyboards/             # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã Telegram
‚îÇ   ‚îú‚îÄ‚îÄ main_menu.py       # –ú–µ–Ω—é –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ form_keyboards.py  # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è —Ñ–æ—Ä–º—ã
‚îú‚îÄ‚îÄ states/                # FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ form_states.py     # –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∞–Ω–∫–µ—Ç—ã
‚îî‚îÄ‚îÄ frontend/              # React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    ‚îú‚îÄ‚îÄ src/
    ‚îÇ   ‚îú‚îÄ‚îÄ pages/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Gallery.jsx    # –ì–∞–ª–µ—Ä–µ—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ (swipe-–∫–∞—Ä—Ç–æ—á–∫–∏)
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Profile.jsx    # –ü—Ä–æ—Ñ–∏–ª—å —ç–∫—Å–ø–µ—Ä—Ç–∞
    ‚îÇ   ‚îî‚îÄ‚îÄ components/
    ‚îÇ       ‚îî‚îÄ‚îÄ SwipeCards.jsx # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–≤–∞–π–ø–æ–≤
    ‚îî‚îÄ‚îÄ dist/              # –°–æ–±—Ä–∞–Ω–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
```

---

## üîÑ –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ —Ä–∞–±–æ—Ç—ã

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
/start ‚Üí –í—ã–±–æ—Ä —è–∑—ã–∫–∞ ‚Üí –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –ó–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É
‚Üí FSM —Ñ–æ—Ä–º–∞ (4 –±–ª–æ–∫–∞) ‚Üí –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Airtable ‚Üí –°—Ç–∞—Ç—É—Å "Pending"
```

**–ë–ª–æ–∫–∏ –∞–Ω–∫–µ—Ç—ã:**
- **–ë–ª–æ–∫ 1**: –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω, Telegram, –≥–æ—Ä–æ–¥, —Å–æ—Ü—Å–µ—Ç–∏)
- **–ë–ª–æ–∫ 2**: –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–∞ (–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –º–µ—Ç–æ–¥—ã, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –æ–ø—ã—Ç)
- **–ë–ª–æ–∫ 3**: –§–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã (—Ñ–æ—Ä–º–∞—Ç—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤, —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫, –∑–∞–ø—Ä–æ—Å—ã)
- **–ë–ª–æ–∫ 4**: –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è (–æ–ø–∏—Å–∞–Ω–∏–µ, –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
- **–§–æ—Ç–æ**: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 2. –ú–æ–¥–µ—Ä–∞—Ü–∏—è
```
–ù–æ–≤–∞—è –∞–Ω–∫–µ—Ç–∞ ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª –º–æ–¥–µ—Ä–∞—Ü–∏–∏ ‚Üí –ê–¥–º–∏–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤ Airtable
‚Üí –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "Approved" –∏–ª–∏ "Declined"
```

### 3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ
```
–§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ (–∫–∞–∂–¥—ã–µ 30 –º–∏–Ω) ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ Airtable
‚Üí –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏–ª—Å—è –∏ Notified=False ‚Üí –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Notified=True
```

### 4. –†–∞–±–æ—Ç–∞ –ø–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è
```
–°—Ç–∞—Ç—É—Å "Approved" ‚Üí –ú–µ–Ω—é —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏:
- üîç –ù–∞–π—Ç–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –¥–ª—è —ç—Ñ–∏—Ä–∞ ‚Üí Mini App (Gallery)
- üéô –ù–∞–π—Ç–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –¥–ª—è –ø–æ–¥–∫–∞—Å—Ç–∞ ‚Üí Mini App (Gallery)
- ‚öôÔ∏è –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å ‚Üí Mini App (Profile)
- üìò –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
```

### 5. –ü–æ–∏—Å–∫ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
```
Mini App –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚Üí –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ (API /api/experts)
‚Üí Swipe-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∫–∞–∫ Tinder) ‚Üí –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è ‚Üí –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞
```

---

## üîå API Endpoints (FastAPI)

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- `GET /` ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API
- `GET /api/experts` ‚Äî –°–ø–∏—Å–æ–∫ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏: lang, city, direction, page, limit)
- `GET /api/profile/{telegram_id}` ‚Äî –ü—Ä–æ—Ñ–∏–ª—å –ø–æ Telegram ID
- `GET /api/expert/{record_id}` ‚Äî –ü—Ä–æ—Ñ–∏–ª—å –ø–æ record_id –∏–∑ Airtable
- `POST /api/partnership/request` ‚Äî –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞
- `GET /webapp` –∏ `GET /webapp/{path:path}` ‚Äî SPA fallback –¥–ª—è React Router

### –°—Ç–∞—Ç–∏–∫–∞:
- `/webapp/assets/*` ‚Äî CSS/JS —Ñ–∞–π–ª—ã –∏–∑ `frontend/dist/assets/`

---

## üìä –°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö Airtable

### –¢–∞–±–ª–∏—Ü–∞ "Experts":
- **TelegramID** (Number) ‚Äî ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram
- **Name** (Single line text)
- **Phone** (Phone number)
- **Telegram** (Single line text) ‚Äî @username
- **City** (Single line text)
- **Language** (Single select) ‚Äî "ru" / "en"
- **Status** (Single select) ‚Äî "üü¢ –û–¥–æ–±—Ä–µ–Ω–æ" / "üü° –ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏" / "üî¥ –û—Ç–∫–ª–æ–Ω–µ–Ω–æ"
- **Notified** (Checkbox) ‚Äî –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- **Direction** (Multiple select) ‚Äî –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Methods** (Multiple select) ‚Äî –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã
- **Format** (Multiple select) ‚Äî –§–æ—Ä–º–∞—Ç—ã —Ä–∞–±–æ—Ç—ã
- **Requests** (Multiple select) ‚Äî –ó–∞–ø—Ä–æ—Å—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
- **Education** (Single select)
- **Experience** (Single select)
- **Clients** (Single select) ‚Äî –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤
- **AverageCheck** (Single select) ‚Äî –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
- **Audience** (Long text) ‚Äî –û–ø–∏—Å–∞–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏
- **Positioning** (Long text) ‚Äî –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Photo** (Attachment) ‚Äî –§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è
- **Date** (Date) ‚Äî –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Backend:
- **Python 3.12+**
- **aiogram 3.4.1** ‚Äî Telegram Bot API
- **FastAPI 0.104.1** ‚Äî REST API —Å–µ—Ä–≤–µ—Ä
- **uvicorn** ‚Äî ASGI —Å–µ—Ä–≤–µ—Ä
- **pyairtable 3.3.0** ‚Äî –†–∞–±–æ—Ç–∞ —Å Airtable
- **python-dotenv** ‚Äî –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **aiohttp** ‚Äî –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP –∑–∞–ø—Ä–æ—Å—ã

### Frontend:
- **React 19.2.0**
- **React Router 7.9.5** ‚Äî –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- **Vite 7.2.2** ‚Äî –°–±–æ—Ä—â–∏–∫
- **Tailwind CSS 4.1.17** ‚Äî –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è
- **Framer Motion 12.23.24** ‚Äî –ê–Ω–∏–º–∞—Ü–∏–∏

### –•—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π:
- **FSM (aiogram)** ‚Äî –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã (MemoryStorage)
- **Airtable** ‚Äî –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö

---

## üîç –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:
1. **–ß–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞** ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ handlers, services, keyboards
2. **–ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ RU/EN
3. **–§–æ–Ω–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–∞—Ö
4. **–ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–Ω–∫–µ—Ç –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
5. **–ö—Ä–∞—Å–∏–≤—ã–π UI** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** ‚Äî ErrorBoundary, try-catch –±–ª–æ–∫–∏

### ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. **–•—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π FSM**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `MemoryStorage` ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞
- **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ Redis –∏–ª–∏ PostgreSQL –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏

#### 2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–æ–≤**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å webhooks –æ—Ç Airtable –∏–ª–∏ —É–º–µ–Ω—å—à–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª

#### 3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞ –≤ Airtable
- **–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É "Partnerships" –≤ Airtable

#### 4. **–ö—ç—à –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫**
- **–ü—Ä–æ–±–ª–µ–º–∞**: `sent_records_cache` –≤ –ø–∞–º—è—Ç–∏ ‚Äî —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
- **–†–µ—à–µ–Ω–∏–µ**: –•—Ä–∞–Ω–∏—Ç—å –≤ Airtable (–ø–æ–ª–µ "Submitted") –∏–ª–∏ Redis

#### 5. **–õ–∏–º–∏—Ç—ã Airtable API**
- **–ü—Ä–æ–±–ª–µ–º–∞**: Airtable –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç—ã –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ (5 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫ –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ)
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å rate limiting –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 6. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- **–ü—Ä–æ–±–ª–µ–º–∞**: CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ `allow_origins=["*"]` ‚Äî –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- **–†–µ—à–µ–Ω–∏–µ**: –£–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–º–µ–Ω—ã Telegram Mini App

#### 7. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞ (—Ç–æ–ª—å–∫–æ –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞)
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, email, URL

#### 8. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —Ñ–∞–π–ª, –Ω–æ –Ω–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **–†–µ—à–µ–Ω–∏–µ**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Sentry –∏–ª–∏ –¥—Ä—É–≥–∏–º —Å–µ—Ä–≤–∏—Å–æ–º

#### 9. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

#### 10. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API**
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç Swagger/OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **–†–µ—à–µ–Ω–∏–µ**: FastAPI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `/docs`, –Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ):
1. ‚úÖ –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ Redis –¥–ª—è FSM —Å–æ—Å—Ç–æ—è–Ω–∏–π
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É Partnerships –≤ Airtable
3. ‚úÖ –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ Airtable API (retry, backoff)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ):
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å rate limiting –¥–ª—è API
5. ‚úÖ –£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã
6. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π CORS –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
7. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (JSON)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ):
8. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã
9. ‚úÖ –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API
10. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus/Grafana)

---

## üìù –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env):
```env
BOT_TOKEN=xxx                    # –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
AIRTABLE_API_KEY=xxx             # API –∫–ª—é—á Airtable
AIRTABLE_BASE_ID=xxx             # ID –±–∞–∑—ã Airtable
ADMIN_ID=xxx                     # ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
DEFAULT_PHOTO_URL=xxx            # URL –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ —Ñ–æ—Ç–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
WEBAPP_URL=http://localhost:5173 # URL –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
ENV=dev                          # –û–∫—Ä—É–∂–µ–Ω–∏–µ (dev/prod)
```

### –ü–æ—Ä—Ç—ã:
- **FastAPI**: 8000 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **Frontend dev**: 5173 (Vite)
- **Telegram Bot**: Polling (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Ä—Ç–∞)

---

## üé® Frontend –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:
- `/webapp/` ‚Üí Gallery (–≥–∞–ª–µ—Ä–µ—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤)
- `/webapp/gallery` ‚Üí Gallery
- `/webapp/profile/:telegram_id` ‚Üí Profile (–ø—Ä–æ—Ñ–∏–ª—å —ç–∫—Å–ø–µ—Ä—Ç–∞)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `window.Telegram.WebApp` API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Telegram Mini App (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –≤ –±–æ—Ç–µ)

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **SwipeCards** ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ —Å swipe-–∂–µ—Å—Ç–∞–º–∏
- **VisionAvatar** ‚Äî –∞–≤–∞—Ç–∞—Ä –≤ —Å—Ç–∏–ª–µ VisionOS
- **VisionBackground** ‚Äî –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω
- **ErrorBoundary** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ React

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –¢–µ–∫—É—â–∏–µ –º–µ—Ä—ã:
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è Telegram ID
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∞–Ω–∫–µ—Ç –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å rate limiting –Ω–∞ API endpoints
- ‚ö†Ô∏è –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å CORS —Ç–æ–ª—å–∫–æ –¥–æ–º–µ–Ω–∞–º–∏ Telegram
- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- ‚ö†Ô∏è –•—Ä–∞–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ –∫–æ–¥–µ)

---

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

### –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- MemoryStorage –¥–ª—è FSM ‚Äî –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
- –ü—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Airtable ‚Äî –ª–∏–º–∏—Ç—ã API
- –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –∫—ç—à–∞
- –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ (TTL 5-10 –º–∏–Ω—É—Ç)
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ PostgreSQL –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞: 8/10**

### –ü–ª—é—Å—ã:
- ‚úÖ –•–æ—Ä–æ—à–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI/UX
- ‚úÖ –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ú–∏–Ω—É—Å—ã:
- ‚ö†Ô∏è –ù–µ—Ç –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π FSM
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤
- ‚ö†Ô∏è –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚ö†Ô∏è –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

---

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞**: 2025-01-27
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞**: v1.0

