# ü§ù –§—É–Ω–∫—Ü–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞

**–î–∞—Ç–∞:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:

1. **–í —Å–≤–æ–µ–º –ø—Ä–æ—Ñ–∏–ª–µ** - –∫–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å" —Å–∫—Ä—ã—Ç–∞
2. **–í —á—É–∂–æ–º –ø—Ä–æ—Ñ–∏–ª–µ** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "ü§ù –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ"
3. **–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü—É –ø—Ä–æ—Ñ–∏–ª—è
4. **–£ –≤–ª–∞–¥–µ–ª—å—Ü–∞** - –¥–≤–µ –∫–Ω–æ–ø–∫–∏: "‚úÖ –°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è" –∏ "‚ùå –û—Ç–∫–∞–∑–∞—Ç—å"
5. **–ü—Ä–∏ –æ—Ç–≤–µ—Ç–µ** - –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ä–µ—à–µ–Ω–∏–∏

---

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. Frontend (`frontend/src/pages/Profile.jsx`)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ/—á—É–∂–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è —á–µ—Ä–µ–∑ Telegram WebApp API
- –£—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ —á–µ—Ä–µ–∑ API
- –ö—Ä–∞—Å–∏–≤—ã–π UI —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `getCurrentUserId()` - –ø–æ–ª—É—á–µ–Ω–∏–µ ID —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `handlePartnershipRequest()` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–Ω–æ–ø–∫–∏ "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ"

---

### 2. Backend API (`api/main.py`)

**–ù–æ–≤—ã–π endpoint:**
- `POST /api/partnership/request`
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `from_user_id` –∏ `to_user_id`
- –ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏–∑ Airtable
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram Bot API

**–§—É–Ω–∫—Ü–∏–∏:**
- `request_partnership()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–ª–∞–π–Ω-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—É—á–∞—Ç–µ–ª—é

---

### 3. Bot Handlers (`handlers/partnership.py`)

**–ù–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫:**
- `handle_partnership_callback()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π: `accept` –∏ `decline`
- –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä—É

**–§—É–Ω–∫—Ü–∏–∏:**
- `get_user_info()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- `send_message()` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ Bot API

---

## üé® UI/UX

### –ö–Ω–æ–ø–∫–∞ "–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ"
- –ì—Ä–∞–¥–∏–µ–Ω—Ç: –∑–µ–ª–µ–Ω—ã–π ‚Üí –∏–∑—É–º—Ä—É–¥–Ω—ã–π ‚Üí –±–∏—Ä—é–∑–æ–≤—ã–π
- –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ
- –°–æ—Å—Ç–æ—è–Ω–∏—è: –æ–±—ã—á–Ω–æ–µ, –∑–∞–≥—Ä—É–∑–∫–∞, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ, –æ—à–∏–±–∫–∞

### –°–æ–æ–±—â–µ–Ω–∏—è –≤ –±–æ—Ç–µ
- –ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Markdown
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞—Ä—Ç–Ω–µ—Ä–µ
- –ò–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –æ—Ç–≤–µ—Ç–∞

---

## üîÑ –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A** –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è B** –≤ –≥–∞–ª–µ—Ä–µ–µ
2. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "ü§ù –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ"
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B** –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º
4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B** –Ω–∞–∂–∏–º–∞–µ—Ç "‚úÖ –°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è" –∏–ª–∏ "‚ùå –û—Ç–∫–∞–∑–∞—Ç—å"
5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A** –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ä–µ—à–µ–Ω–∏–∏

---

## üìù –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π

### –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—é:
```
ü§ù –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å [–ò–º—è] —Ö–æ—á–µ—Ç —Å—Ç–∞—Ç—å –≤–∞—à–∏–º –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º!

üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞—Ä—Ç–Ω–µ—Ä–µ:
‚Ä¢ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: ...
‚Ä¢ –ì–æ—Ä–æ–¥: ...
‚Ä¢ –Ø–∑—ã–∫: ...

–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:
[‚úÖ –°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è] [‚ùå –û—Ç–∫–∞–∑–∞—Ç—å]
```

### –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏:
```
‚úÖ –û—Ç–ª–∏—á–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏!

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å [–ò–º—è] —Å–æ–≥–ª–∞—Å–∏–ª—Å—è —Å—Ç–∞—Ç—å –≤–∞—à–∏–º –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º!

üìã –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
‚Ä¢ Telegram: @...
‚Ä¢ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: ...
‚Ä¢ –ì–æ—Ä–æ–¥: ...

üéâ –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Å–≤—è–∑–∞—Ç—å—Å—è –∏ –æ–±—Å—É–¥–∏—Ç—å –¥–µ—Ç–∞–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞!
```

### –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ:
```
‚ùå –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å [–ò–º—è] –æ—Ç–∫–∞–∑–∞–ª—Å—è –æ—Ç –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞.

–ù–µ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ—Å—å! –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –¥—Ä—É–≥–∏—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –≤ –≥–∞–ª–µ—Ä–µ–µ.
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è
```javascript
const getCurrentUserId = () => {
  if (window.Telegram && window.Telegram.WebApp && window.Telegram.WebApp.initDataUnsafe) {
    const initData = window.Telegram.WebApp.initDataUnsafe;
    if (initData.user && initData.user.id) {
      return String(initData.user.id);
    }
  }
  return null;
};
```

### API –∑–∞–ø—Ä–æ—Å
```javascript
POST /api/partnership/request
{
  "from_user_id": "123456789",
  "to_user_id": "987654321"
}
```

### Callback –¥–∞–Ω–Ω—ã–µ
- `partnership_accept_{from_id}_{to_id}` - —Å–æ–≥–ª–∞—Å–∏–µ
- `partnership_decline_{from_id}_{to_id}` - –æ—Ç–∫–∞–∑

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≥–∞–ª–µ—Ä–µ—é –≤ Telegram
2. –í—ã–±–µ—Ä–∏—Ç–µ —á—É–∂–æ–π –ø—Ä–æ—Ñ–∏–ª—å
3. –ù–∞–∂–º–∏—Ç–µ "ü§ù –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ"
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
5. –ù–∞–∂–º–∏—Ç–µ "‚úÖ –°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è" –∏–ª–∏ "‚ùå –û—Ç–∫–∞–∑–∞—Ç—å"
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞

---

**–î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é


