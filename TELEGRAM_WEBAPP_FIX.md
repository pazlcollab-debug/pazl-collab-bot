# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ Telegram WebApp API

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. **–î–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç Telegram WebApp –≤ index.html**
   - –î–æ–±–∞–≤–ª–µ–Ω `<script src="https://telegram.org/js/telegram-web-app.js"></script>`
   - –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –¥–∞–∂–µ –µ—Å–ª–∏ Telegram –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### 2. **–î–æ–±–∞–≤–ª–µ–Ω–æ –æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞**
   - –§—É–Ω–∫—Ü–∏—è `initTelegramWebApp()` –ø—ã—Ç–∞–µ—Ç—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å API
   - –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ —á–µ—Ä–µ–∑ 100ms –∏ 500ms, –µ—Å–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å —Å—Ä–∞–∑—É

### 3. **–£–ª—É—á—à–µ–Ω–æ –ø–æ–ª—É—á–µ–Ω–∏–µ user ID –≤ React**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ 200ms, –µ—Å–ª–∏ ID –Ω–µ –ø–æ–ª—É—á–µ–Ω —Å—Ä–∞–∑—É
   - –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç, –µ—Å–ª–∏ Telegram WebApp –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π

### 4. **–£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –õ–æ–≥–∏—Ä—É–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É Telegram WebApp API
   - –õ–æ–≥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫

## üöÄ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ FastAPI (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):

```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ (Ctrl+C) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ:
.\venv\Scripts\Activate.ps1
uvicorn api.main:app --host 0.0.0.0 --port 8000 --reload
```

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram Mini App:

**–í–∞–∂–Ω–æ:** –û—Ç–∫—Ä–æ–π—Ç–µ —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –≤ Telegram, –∞ –Ω–µ —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π URL.

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12):

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
- `‚úÖ Telegram WebApp API loaded` - —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–µ–Ω
- `‚úÖ User data: {id: ..., ...}` - –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–ª—É—á–µ–Ω—ã
- `‚úÖ Got user ID from initDataUnsafe: [–≤–∞—à ID]` - ID –ø–æ–ª—É—á–µ–Ω

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ FastAPI:

–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
üì• Received partnership request: from=[—Ä–µ–∞–ª—å–Ω—ã–π ID], to=732218413
Looking for users: from=[—Ä–µ–∞–ª—å–Ω—ã–π ID], to=732218413
Found records: from=1, to=1
Sending partnership message...
Telegram message sent successfully...
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —á–µ—Ä–µ–∑ Telegram Mini App** - –Ω–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä –Ω–∞–ø—Ä—è–º—É—é
2. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 —Å–µ–∫—É–Ω–¥—ã** –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è, —á—Ç–æ–±—ã —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∏–ª—Å—è
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** - —Ç–∞–º –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ, –∑–∞–≥—Ä—É–∑–∏–ª—Å—è –ª–∏ Telegram WebApp API

## üîç –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ - –µ—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞?
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ª–∏ `telegram-web-app.js`?
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ Telegram Mini App

–¢–µ–ø–µ—Ä—å Telegram WebApp API –¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

